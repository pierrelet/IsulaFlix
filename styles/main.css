/*
  StreamFlix Design System
  - Mobile-first responsive layout
  - CSS Variables with theming (dark/light/sepia)
  - Grid/Flex utilities
  - Animations and hover effects
*/

/* =====================
   1) CSS Variables
   ===================== */
   :root {
    /* Color tokens */
    --color-bg: #0b0b0f;
    --color-bg-elev: #121218;
    --color-surface: #1a1b22;
    --color-text: #eef1f5;
    --color-text-muted: #a9b0bc;
    --color-primary: #00d4ff; /* IsulaFlix cyan accent */
    --color-primary-600: #0099cc;
    --color-accent: #23c4ff;
    --color-border: #2a2c36;
    --shadow-lg: 0 20px 40px rgba(0,0,0,0.5);
    --shadow-md: 0 10px 20px rgba(0,0,0,0.4);
  
    /* Typography */
    --font-sans: "Inter", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    --font-display: "Montserrat", var(--font-sans);
    --step--1: clamp(0.78rem, 0.75rem + 0.2vw, 0.9rem);
    --step-0: clamp(0.9rem, 0.86rem + 0.3vw, 1rem);
    --step-1: clamp(1.05rem, 1rem + 0.6vw, 1.25rem);
    --step-2: clamp(1.25rem, 1.1rem + 1vw, 1.6rem);
    --step-3: clamp(1.6rem, 1.3rem + 1.6vw, 2rem);
    --step-4: clamp(2.1rem, 1.6rem + 2.4vw, 2.8rem);
    --step-5: clamp(2.8rem, 2rem + 3.6vw, 3.6rem);
  
    /* Spacing scale */
    --space-1: 4px;
    --space-2: 8px;
    --space-3: 12px;
    --space-4: 16px;
    --space-5: 24px;
    --space-6: 32px;
    --space-7: 48px;
    --space-8: 64px;
  
    /* Radii */
    --radius-sm: 8px;
    --radius-md: 14px;
    --radius-lg: 20px;
  
    /* Motion */
    --ease-smooth: cubic-bezier(0.22, 1, 0.36, 1);
    --dur-1: 150ms;
    --dur-2: 300ms;
    --dur-3: 600ms;
  
    /* Layout */
    --container-max: 1200px;
    --header-h: 64px;
  }
  
  /* Themes */
  [data-theme="light"] {
    --color-bg: #ffffff;
    --color-bg-elev: #f7f8fb;
    --color-surface: #ffffff;
    --color-text: #0e1116;
    --color-text-muted: #4b5563;
    --color-primary: #00d4ff;
    --color-primary-600: #0099cc;
    --color-accent: #1e90ff;
    --color-border: #e4e7ec;
  }
  
  [data-theme="sepia"] {
    --color-bg: #1a1410;
    --color-bg-elev: #211913;
    --color-surface: #261c14;
    --color-text: #f5eee6;
    --color-text-muted: #cbb9a7;
    --color-primary: #ff6b35;
    --color-primary-600: #e55a2b;
    --color-accent: #ffd166;
    --color-border: #3a2b21;
  }
  
  /* Smooth theme transitions */
  html, body, .site-header, .hero, .movies .card, .btn {
    transition: background-color var(--dur-2) var(--ease-smooth),
                color var(--dur-2) var(--ease-smooth),
                border-color var(--dur-2) var(--ease-smooth);
  }
  
  /* =====================
     2) Base reset
     ===================== */
  * { box-sizing: border-box; }
  html, body { height: 100%; }
  body {
    margin: 0;
    font-family: var(--font-sans);
    font-size: var(--step-0);
    line-height: 1.6;
    background: radial-gradient(1200px 600px at 70% -10%, rgba(0, 212, 255, 0.15), transparent 40%), var(--color-bg);
    color: var(--color-text);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  
  img { max-width: 100%; display: block; }
  a { color: inherit; text-decoration: none; }
  button { font: inherit; cursor: pointer; }
  
  .skip-link {
    position: absolute; left: -999px; top: -999px;
  }
  .skip-link:focus {
    left: var(--space-4); top: var(--space-4);
    background: var(--color-surface); color: var(--color-text);
    padding: var(--space-2) var(--space-3);
    border-radius: var(--radius-sm);
  }
  
  /* =====================
     3) Layout & containers
     ===================== */
  .container {
    width: min(100% - 2rem, var(--container-max));
    margin-inline: auto;
  }
  
  .site-header {
    position: sticky; top: 0; z-index: 50;
    background: color-mix(in oklab, var(--color-bg) 92%, transparent);
    backdrop-filter: saturate(140%) blur(10px);
    border-bottom: 1px solid var(--color-border);
    transition: transform var(--dur-2) var(--ease-smooth), height var(--dur-2) var(--ease-smooth);
  }
  
  .header-inner {
    display: grid; grid-template-columns: auto 1fr auto;
    align-items: center; gap: var(--space-3);
    min-height: var(--header-h);
  }
  
  .brand { display: inline-flex; align-items: center; gap: var(--space-2); font-weight: 800; letter-spacing: 0.2px; }
  .brand-mark { width: 24px; height: 24px; fill: var(--color-primary); filter: drop-shadow(0 4px 12px rgba(0,212,255,0.35)); }
  .brand-name { font-family: var(--font-display); font-size: 1.1rem; }
  
  .primary-nav { justify-self: center; }
  
  /* Search container */
  .search-container {
    position: relative;
    display: inline-flex;
    align-items: center;
  }
  .search-toggle {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    border-radius: 999px;
    border: 1px solid var(--color-border);
    background: var(--color-surface);
    color: var(--color-text);
    cursor: pointer;
    transition: all var(--dur-2) var(--ease-smooth);
  }
  .search-toggle:hover {
    border-color: var(--color-primary);
    background: var(--color-primary);
    color: white;
  }
  .search-icon {
    width: 18px;
    height: 18px;
  }
  .search-bar {
    position: absolute;
    right: 0;
    top: 50%;
    transform: translateY(-50%);
    width: 0;
    overflow: hidden;
    transition: width var(--dur-2) var(--ease-smooth);
    background: var(--color-surface);
    border: 1px solid var(--color-border);
    border-radius: 999px;
  }
  .search-bar.active {
    width: 300px;
  }
  .search-bar input {
    width: 100%;
    padding: 8px 16px;
    border: none;
    background: transparent;
    color: var(--color-text);
    font-size: var(--step-0);
    outline: none;
  }
  .search-bar input::placeholder {
    color: var(--color-text-muted);
  }
  .search-results {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background: var(--color-surface);
    border: 1px solid var(--color-border);
    border-top: none;
    border-radius: 0 0 var(--radius-md) var(--radius-md);
    max-height: 400px;
    overflow-y: auto;
    z-index: 100;
    display: none;
  }
  .search-results.active {
    display: block;
  }
  .search-result-item {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    padding: var(--space-3);
    cursor: pointer;
    transition: background var(--dur-1) var(--ease-smooth);
  }
  .search-result-item:hover {
    background: var(--color-bg-elev);
  }
  .search-result-poster {
    width: 40px;
    height: 60px;
    object-fit: cover;
    border-radius: var(--radius-sm);
  }
  .search-result-info {
    flex: 1;
  }
  .search-result-title {
    font-weight: 600;
    font-size: var(--step-0);
    margin: 0 0 4px 0;
  }
  .search-result-meta {
    font-size: var(--step--1);
    color: var(--color-text-muted);
  }
  .nav-toggle { display: inline-flex; align-items: center; justify-content: center; width: 40px; height: 40px; border-radius: 999px; border: 1px solid var(--color-border); background: var(--color-surface); color: var(--color-text); }
  
  .nav-list { list-style: none; margin: 0; padding: 0; display: none; position: relative; }
  .nav-list .nav-indicator { position: absolute; bottom: -6px; height: 3px; background: var(--color-primary); border-radius: 4px; transition: left var(--dur-2) var(--ease-smooth), width var(--dur-2) var(--ease-smooth); }
  .nav-link { display: inline-block; padding: 8px 10px; color: var(--color-text-muted); }
  .nav-link:is(:hover, :focus-visible), .nav-link.is-active { color: var(--color-text); }
  
  .actions { display: inline-flex; gap: var(--space-2); align-items: center; }
  
  /* Profile display in header */
  .profile-display {
    display: inline-flex;
    align-items: center;
    gap: var(--space-2);
    padding: var(--space-1) var(--space-2);
    border-radius: var(--radius-md);
    background: var(--color-surface);
    border: 1px solid var(--color-border);
    transition: all var(--dur-2) var(--ease-smooth);
  }
  .profile-display:hover {
    border-color: var(--color-primary);
    box-shadow: var(--shadow-md);
  }
  .profile-avatar-small {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    object-fit: cover;
    border: 2px solid var(--color-border);
  }
  .profile-name-small {
    font-size: var(--step-0);
    font-weight: 600;
    color: var(--color-text);
  }
  .profile-display.hidden {
    display: none;
  }
  
  .theme-picker { position: relative; }
  .theme-menu { position: absolute; right: 0; top: calc(100% + 6px); min-width: 160px; padding: 6px; margin: 0; list-style: none; background: var(--color-surface); border: 1px solid var(--color-border); border-radius: var(--radius-md); box-shadow: var(--shadow-md); }
  .theme-menu li { padding: 8px 10px; border-radius: var(--radius-sm); color: var(--color-text-muted); cursor: pointer; }
  .theme-menu li[aria-selected="true"], .theme-menu li:hover { color: var(--color-text); background: color-mix(in oklab, var(--color-primary) 10%, transparent); }
  
  /* Shrinking header on scroll */
  .is-compact .site-header { transform: translateY(-6px); }
  .is-compact .header-inner { min-height: 52px; }
  
  /* Breadcrumb */
  .breadcrumb { position: sticky; top: calc(var(--header-h) - 1px); z-index: 40; background: color-mix(in oklab, var(--color-bg) 96%, transparent); border-bottom: 1px solid var(--color-border); }
  .crumbs { margin: 0; padding: var(--space-2) 0; display: flex; flex-wrap: wrap; gap: 6px; color: var(--color-text-muted); font-size: var(--step--1); }
  .crumbs li { list-style: none; }
  .crumbs a { color: inherit; }
  .crumbs .sep { opacity: 0.5; }
  
  /* =====================
     4) Hero section
     ===================== */
  .hero {
    position: relative; isolation: isolate; overflow: clip;
    min-height: 100vh;
    display: flex;
    align-items: center;
  }
  .hero-media { position: absolute; inset: 0; z-index: -1; }
  .hero-video {
    width: 100%;
    height: 100%;
    object-fit: cover;
    filter: brightness(0.7);
  }
  .hero-overlay {
    position: absolute;
    inset: 0;
    background: linear-gradient(180deg, rgba(0,0,0,0.4), rgba(0,0,0,0.6) 50%, rgba(0,0,0,0.8));
    z-index: 1;
  }
  
  .hero-content { 
    padding: var(--space-7) 0 var(--space-6); 
    text-align: center; 
    position: relative;
    z-index: 2;
    max-width: 800px;
    margin: 0 auto;
  }
  .hero-title { 
    font-family: var(--font-display); 
    font-size: var(--step-5); 
    line-height: 1.05; 
    letter-spacing: -0.02em; 
    text-wrap: balance;
    text-shadow: 0 4px 20px rgba(0,0,0,0.8);
  }
  .hero-title span { color: var(--color-primary); }
  .hero-sub { 
    margin-top: var(--space-2); 
    color: var(--color-text-muted); 
    font-size: var(--step-1);
    text-shadow: 0 2px 10px rgba(0,0,0,0.8);
  }
  .hero-cta { margin-top: var(--space-4); display: inline-flex; gap: var(--space-3); }
  
  /* =====================
     5) Buttons
     ===================== */
  .btn { border: 1px solid var(--color-border); border-radius: 999px; padding: 10px 16px; background: var(--color-surface); color: var(--color-text); transition: transform var(--dur-1) var(--ease-smooth), box-shadow var(--dur-2) var(--ease-smooth), background var(--dur-2) var(--ease-smooth), color var(--dur-2) var(--ease-smooth); }
  .btn:hover { transform: translateY(-1px); box-shadow: var(--shadow-md); }
  .btn:active { transform: translateY(0); box-shadow: none; }
  .btn.primary { background: var(--color-primary); border-color: transparent; color: white; }
  .btn.primary:hover { background: var(--color-primary-600); box-shadow: 0 10px 24px rgba(0, 212, 255, 0.35); }
  .btn.ghost { background: transparent; }
  
  /* =====================
     6) Sections & titles
     ===================== */
  .rail { padding: var(--space-6) 0; }
  .section-title { font-size: var(--step-3); font-family: var(--font-display); margin: 0 0 var(--space-3); }
  
  /* Carousel sections */
  .carousel-section {
    position: relative;
  }
  .carousel-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--space-4);
  }
  .carousel-nav {
    display: flex;
    gap: var(--space-2);
  }
  .carousel-btn {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    border: 1px solid var(--color-border);
    background: var(--color-surface);
    color: var(--color-text);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all var(--dur-1) var(--ease-smooth);
    opacity: 0.7;
  }
  .carousel-btn:hover {
    opacity: 1;
    border-color: var(--color-primary);
    background: var(--color-primary);
    color: white;
  }
  .carousel-btn:disabled {
    opacity: 0.3;
    cursor: not-allowed;
  }
  .carousel-btn:disabled:hover {
    border-color: var(--color-border);
    background: var(--color-surface);
    color: var(--color-text);
  }

  /* List actions */
  .list-actions {
    margin-top: 20px;
    text-align: center;
  }

  .list-actions .btn {
    background: rgba(255, 0, 0, 0.1);
    border: 1px solid rgba(255, 0, 0, 0.3);
    color: #ff4444;
  }

  .list-actions .btn:hover {
    background: rgba(255, 0, 0, 0.2);
    border-color: rgba(255, 0, 0, 0.5);
  }

  /* =====================
     6.5) Profiles section
     ===================== */
  .profiles-section {
    padding: var(--space-8) 0;
    background: var(--color-bg-elev);
    border-top: 1px solid var(--color-border);
    border-bottom: 1px solid var(--color-border);
  }
  .profiles-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--space-5);
    max-width: 800px;
    margin: 0 auto;
  }
  .profile-card {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--space-3);
    padding: var(--space-4);
    border-radius: var(--radius-lg);
    background: var(--color-surface);
    border: 2px solid transparent;
    transition: all var(--dur-2) var(--ease-smooth);
    cursor: pointer;
  }
  .profile-card:hover {
    border-color: var(--color-primary);
    transform: translateY(-4px);
    box-shadow: var(--shadow-lg);
  }
  .profile-card.active {
    border-color: var(--color-primary);
    background: color-mix(in oklab, var(--color-primary) 10%, var(--color-surface));
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
  }
  .profile-avatar {
    width: 120px;
    height: 120px;
    border-radius: 50%;
    object-fit: cover;
    border: 3px solid var(--color-border);
    transition: border-color var(--dur-2) var(--ease-smooth);
  }
  .profile-card:hover .profile-avatar {
    border-color: var(--color-primary);
  }
  .profile-name {
    font-size: var(--step-1);
    font-weight: 600;
    margin: 0;
    text-align: center;
  }
  .add-profile {
    background: color-mix(in oklab, var(--color-surface) 80%, var(--color-primary));
    border: 2px dashed var(--color-primary);
  }
  .add-icon {
    width: 120px;
    height: 120px;
    border-radius: 50%;
    background: var(--color-primary);
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 3rem;
    font-weight: 300;
    transition: transform var(--dur-2) var(--ease-smooth);
  }
  .add-profile:hover .add-icon {
    transform: scale(1.1);
  }

  /* =====================
     6.6) Profiles page
     ===================== */
  .profiles-page {
    min-height: 100vh;
    background: var(--color-bg);
  }
  .profiles-main {
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: calc(100vh - var(--header-h));
    padding: var(--space-6) 0;
  }
  .profiles-content {
    text-align: center;
    max-width: 1000px;
    margin: 0 auto;
  }
  .profiles-title {
    font-family: var(--font-display);
    font-size: var(--step-4);
    margin-bottom: var(--space-8);
    color: var(--color-text);
  }
  .profiles-grid-large {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--space-6);
    margin-bottom: var(--space-8);
    max-width: 800px;
    margin-left: auto;
    margin-right: auto;
  }
  .profile-card-large {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--space-4);
    padding: var(--space-5);
    border-radius: var(--radius-lg);
    background: var(--color-surface);
    border: 2px solid transparent;
    transition: all var(--dur-2) var(--ease-smooth);
    cursor: pointer;
    text-decoration: none;
    color: inherit;
  }
  .profile-card-large:hover {
    border-color: var(--color-primary);
    transform: translateY(-8px);
    box-shadow: var(--shadow-lg);
  }
  .profile-avatar-large {
    width: 160px;
    height: 160px;
    border-radius: 50%;
    object-fit: cover;
    border: 4px solid var(--color-border);
    transition: all var(--dur-2) var(--ease-smooth);
  }
  .profile-card-large:hover .profile-avatar-large {
    border-color: var(--color-primary);
    transform: scale(1.05);
  }
  .profile-name-large {
    font-size: var(--step-2);
    font-weight: 600;
    margin: 0;
    text-align: center;
  }
  .add-profile-large {
    background: color-mix(in oklab, var(--color-surface) 80%, var(--color-primary));
    border: 2px dashed var(--color-primary);
  }
  .add-icon-large {
    width: 160px;
    height: 160px;
    border-radius: 50%;
    background: var(--color-primary);
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 4rem;
    font-weight: 300;
    transition: transform var(--dur-2) var(--ease-smooth);
  }
  .add-profile-large:hover .add-icon-large {
    transform: scale(1.1);
  }
  .profiles-actions {
    margin-top: var(--space-6);
  }

  /* =====================
     6.7) Modal détaillé
     ===================== */
  .modal-overlay {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.8);
    backdrop-filter: blur(8px);
    z-index: 1000;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    visibility: hidden;
    transition: all var(--dur-2) var(--ease-smooth);
  }
  .modal-overlay.active {
    opacity: 1;
    visibility: visible;
  }
  .modal-content {
    position: relative;
    width: min(95vw, 900px);
    max-height: 90vh;
    background: var(--color-surface);
    border-radius: var(--radius-lg);
    overflow: hidden;
    transform: scale(0.9) translateY(20px);
    transition: transform var(--dur-2) var(--ease-smooth);
    display: grid;
    grid-template-columns: 1fr 1.5fr;
    gap: 0;
    box-shadow: 0 25px 50px rgba(0, 0, 0, 0.8);
  }
  .modal-overlay.active .modal-content {
    transform: scale(1) translateY(0);
  }
  .modal-close {
    position: absolute;
    top: var(--space-3);
    right: var(--space-3);
    width: 40px;
    height: 40px;
    border-radius: 50%;
    border: none;
    background: rgba(0, 0, 0, 0.7);
    color: white;
    font-size: 24px;
    cursor: pointer;
    z-index: 10;
    transition: background var(--dur-1) var(--ease-smooth);
  }
  .modal-close:hover {
    background: rgba(0, 0, 0, 0.9);
  }
  .modal-media {
    position: relative;
    aspect-ratio: 2/3;
    overflow: hidden;
  }
  .modal-poster {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
  .modal-backdrop {
    position: absolute;
    inset: 0;
    background: linear-gradient(180deg, transparent, rgba(0,0,0,0.8));
  }
  .modal-info {
    padding: var(--space-6);
    display: flex;
    flex-direction: column;
    gap: var(--space-3);
    overflow-y: auto;
  }
  .modal-title {
    font-family: var(--font-display);
    font-size: var(--step-3);
    margin: 0;
    color: var(--color-text);
  }
  .modal-meta {
    display: flex;
    gap: var(--space-2);
    flex-wrap: wrap;
  }
  .modal-meta span {
    padding: 4px 8px;
    background: var(--color-bg-elev);
    border-radius: var(--radius-sm);
    font-size: var(--step--1);
    color: var(--color-text-muted);
  }
  .modal-description {
    color: var(--color-text);
    line-height: 1.6;
    margin: 0;
  }
  .modal-cast h3 {
    font-size: var(--step-1);
    margin: 0 0 var(--space-2) 0;
    color: var(--color-text);
  }
  .cast-list {
    display: flex;
    gap: var(--space-2);
    flex-wrap: wrap;
  }
  .cast-item {
    padding: var(--space-1) var(--space-2);
    background: var(--color-bg-elev);
    border-radius: var(--radius-sm);
    font-size: var(--step--1);
    color: var(--color-text-muted);
  }
  .modal-actions {
    display: flex;
    gap: var(--space-3);
    flex-wrap: wrap;
    margin-top: var(--space-4);
  }
  .modal-play {
    display: inline-flex;
    align-items: center;
    gap: var(--space-2);
    padding: 12px 24px;
    font-size: var(--step-1);
    font-weight: 600;
    background: var(--color-primary);
    border: none;
    border-radius: var(--radius-md);
    color: white;
    cursor: pointer;
    transition: all var(--dur-1) var(--ease-smooth);
  }
  .modal-play:hover {
    background: var(--color-primary-600);
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(0, 212, 255, 0.4);
  }
  .play-icon {
    width: 20px;
    height: 20px;
  }
  .modal-add, .modal-info-btn {
    padding: 12px 20px;
    font-size: var(--step-0);
    font-weight: 500;
    border-radius: var(--radius-md);
    transition: all var(--dur-1) var(--ease-smooth);
  }
  .modal-add:hover, .modal-info-btn:hover {
    background: var(--color-bg-elev);
    transform: translateY(-1px);
  }

  /* Responsive modal */
  @media (max-width: 768px) {
    .modal-content {
      grid-template-columns: 1fr;
      width: 95vw;
      max-height: 95vh;
    }
    .modal-media {
      aspect-ratio: 16/9;
    }
    .modal-info {
      padding: var(--space-4);
    }
  }

  /* =====================
     6.8) Search results page
     ===================== */
  .search-results-section {
    padding: var(--space-6) 0;
    min-height: 60vh;
  }
  .search-header {
    margin-bottom: var(--space-6);
    text-align: center;
  }
  .search-results-title {
    font-family: var(--font-display);
    font-size: var(--step-4);
    margin-bottom: var(--space-2);
    color: var(--color-text);
  }
  .search-results-subtitle {
    color: var(--color-text-muted);
    font-size: var(--step-1);
  }
  .search-results-subtitle span {
    color: var(--color-primary);
    font-weight: 600;
  }
  .search-filters {
    display: flex;
    justify-content: center;
    gap: var(--space-2);
    margin-bottom: var(--space-6);
    flex-wrap: wrap;
  }
  .filter-btn {
    padding: var(--space-2) var(--space-4);
    border: 1px solid var(--color-border);
    background: var(--color-surface);
    color: var(--color-text-muted);
    border-radius: var(--radius-md);
    cursor: pointer;
    transition: all var(--dur-1) var(--ease-smooth);
    font-size: var(--step-0);
  }
  .filter-btn:hover {
    border-color: var(--color-primary);
    color: var(--color-text);
  }
  .filter-btn.active {
    background: var(--color-primary);
    border-color: var(--color-primary);
    color: white;
  }
  .search-content {
    position: relative;
  }
  .search-loading {
    display: none;
    text-align: center;
    padding: var(--space-8) 0;
  }
  .loading-spinner {
    width: 40px;
    height: 40px;
    border: 3px solid var(--color-border);
    border-top: 3px solid var(--color-primary);
    border-radius: 50%;
    animation: spin 1s linear infinite;
    margin: 0 auto var(--space-3);
  }
  @keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }
  .no-results {
    text-align: center;
    padding: var(--space-8) 0;
    color: var(--color-text-muted);
  }
  .no-results h2 {
    font-size: var(--step-3);
    margin-bottom: var(--space-2);
    color: var(--color-text);
  }
  .no-results.hidden {
    display: none;
  }
  
  /* =====================
     7) Movie carousels
     ===================== */
  .grid.movies {
    display: flex;
    gap: var(--space-3);
    overflow-x: auto;
    overflow-y: hidden;
    padding: var(--space-2) 0;
    scroll-behavior: smooth;
    scrollbar-width: none; /* Firefox */
    -ms-overflow-style: none; /* IE/Edge */
  }
  .grid.movies::-webkit-scrollbar {
    display: none; /* Chrome/Safari */
  }
  
  .card {
    position: relative; border-radius: var(--radius-md); overflow: hidden;
    background: var(--color-bg-elev); border: 1px solid var(--color-border);
    transform-style: preserve-3d; perspective: 1000px;
    cursor: pointer;
    transition: all var(--dur-2) var(--ease-smooth);
    flex-shrink: 0;
    width: 200px;
  }
  .card-media { 
    aspect-ratio: 2/3; 
    background: #111; 
    overflow: hidden;
    width: 100%;
  }
  .card-media img { width: 100%; height: 100%; object-fit: cover; transition: transform var(--dur-3) var(--ease-smooth); }
  .card-info { display: none; }
  
  /* hover overlay */
  .card-overlay { position: absolute; inset: 0; pointer-events: none; }
  .card-overlay .overlay-center { position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%) scale(0.96); transition: transform var(--dur-2) var(--ease-smooth), opacity var(--dur-2) var(--ease-smooth); opacity: 0; }
  .card-overlay .overlay-bottom { position: absolute; inset: auto 0 0 0; padding: var(--space-3); background: linear-gradient(180deg, rgba(0,0,0,0.0), rgba(0,0,0,0.7) 50%, rgba(0,0,0,0.9)); color: white; display: grid; gap: 4px; opacity: 0; transform: translateY(8px); transition: opacity var(--dur-2) var(--ease-smooth), transform var(--dur-2) var(--ease-smooth); }
  .card-overlay .overlay-title { font-weight: 700; font-size: var(--step-0); letter-spacing: 0.2px; }
  .card-overlay .overlay-meta { font-size: var(--step--1); opacity: 0.9; }
  .play-btn { width: 56px; height: 56px; border-radius: 999px; border: none; background: white; color: black; display: inline-flex; align-items: center; justify-content: center; box-shadow: var(--shadow-md); pointer-events: auto; }
  .play-btn:hover { transform: scale(1.04); }
  .play-btn:active { transform: scale(0.98); }
  
  .card:hover .card-overlay .overlay-center { opacity: 1; transform: translate(-50%, -50%) scale(1); }
  .card:hover .card-overlay .overlay-bottom { opacity: 1; transform: translateY(0); }
  
  /* Clean card design - no static info */
  
  /* badges and actions - removed for cleaner design */
  
  .card::after { content: ""; position: absolute; inset: 0; background: linear-gradient(180deg, transparent, rgba(0,0,0,0.6) 70%); opacity: 0; transition: opacity var(--dur-2) var(--ease-smooth); }
  .card:hover::after { opacity: 1; }
  .card:hover .card-media img { transform: scale(1.08) rotateZ(0.2deg); }
  .card:hover { box-shadow: var(--shadow-lg); }
  
  /* 3D tilt on hover */
  .card:hover { transform: perspective(1000px) rotateY(6deg) translateZ(10px); }
  
  /* Skeletons */
  [data-skeleton] .card { overflow: hidden; }
  .skeleton { position: relative; background: linear-gradient(90deg, rgba(255,255,255,0.06), rgba(255,255,255,0.12), rgba(255,255,255,0.06)); background-size: 200% 100%; animation: shimmer 1.2s infinite var(--ease-smooth); }
  @keyframes shimmer { to { background-position: -200% 0; } }
  
  /* =====================
     8) Footer
     ===================== */
  .site-footer { padding: var(--space-6) 0; color: var(--color-text-muted); border-top: 1px solid var(--color-border); }
  .footer-inner { display: flex; justify-content: space-between; align-items: center; gap: var(--space-3); flex-wrap: wrap; }
  .site-footer a { color: var(--color-text-muted); }
  .site-footer a:hover { color: var(--color-text); }
  
  /* =====================
     9) Responsive (5 breakpoints)
     ===================== */
  @media (min-width: 420px) {
    .grid.movies { grid-template-columns: repeat(3, 1fr); }
  }
  @media (min-width: 600px) {
    .nav-list { display: inline-flex; gap: var(--space-2); }
    .nav-toggle { display: none; }
    .grid.movies { grid-template-columns: repeat(4, 1fr); }
    .hero-content { padding: var(--space-8) 0 var(--space-7); }
  }
  @media (min-width: 820px) {
    .grid.movies { grid-template-columns: repeat(5, 1fr); }
  }
  @media (min-width: 1024px) {
    .grid.movies { grid-template-columns: repeat(6, 1fr); }
    .hero-title { font-size: clamp(2.6rem, 2.2rem + 1.5vw, 4rem); }
  }
  @media (min-width: 1280px) {
    .grid.movies { grid-template-columns: repeat(7, 1fr); }
  }
  
  /* =====================
     10) Utilities
     ===================== */
  .hidden { display: none !important; }
  
  
  